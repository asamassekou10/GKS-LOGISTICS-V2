const translations = {
  en: {
    // Navigation
    'nav-services': 'Services',
    'nav-about': 'About',
    'nav-blog': 'Blogs',
    'nav-careers': 'Careers',
    'nav-contact': 'Contact',
    'nav-news': 'News',
    // Hero
    'hero-title-1': 'Reliable Logistics Solutions',
    'hero-subtitle-1': 'Your partner for fast and secure transport',
    'hero-cta-1': 'Request a Quote',
    'hero-cta-2': 'Learn More',
    'hero-title-2': 'International Presence',
    'hero-subtitle-2': 'Tailored logistics solutions worldwide',
    'hero-cta-3': 'Our Services',
    'hero-cta-4': 'Our Network',
    'hero-title-3': 'Quality Services',
    'hero-subtitle-3': 'A dedicated team to meet your needs',
    'hero-cta-5': 'Client Reviews',
    'hero-cta-6': 'Contact Us',
    // Services
    'services-title': 'Our <span id="typed-services"></span>',
    'services-subtitle': 'Logistics solutions designed for your success.',
    'services-cta': 'Discover',
    'services-explore': 'Explore All Our Services',
    'services-typed-1': 'Solutions',
    'services-typed-2': 'Expertise',
    'services-typed-3': 'Reliability',
    'service-air-title': 'Air Freight',
    'service-air-desc': 'Fast and secure international deliveries.',
    'service-air-progress': '98% On-Time',
    'service-sea-title': 'Sea Freight',
    'service-sea-desc': 'Cost-effective transport for large cargo.',
    'service-sea-progress': '95% Efficiency',
    'service-land-title': 'Land Transport',
    'service-land-desc': 'Optimized regional network for your needs.',
    'service-land-progress': '97% Coverage',
    'service-storage-title': 'Warehousing',
    'service-storage-desc': 'Modern and secure storage solutions.',
    'service-storage-progress': '99% Security',
    // About
    'about-philosophy-title': 'Our Philosophy',
    'about-philosophy-subtitle': 'The principles that guide our every move.',
    'about-mission-title': 'Our Mission',
    'about-mission-desc': 'Connecting the world with innovative logistics solutions.',
    'about-vision-title': 'Our Vision',
    'about-vision-desc': 'Redefining logistics through technology and sustainability.',
    'about-commitment-title': 'Our Commitment',
    'about-commitment-desc': 'Ensuring excellence and reliability at every step.',
    'about-history-title': 'Our History',
    'about-timeline-2019-title': '2019',
    'about-timeline-2019-desc': 'Foundation of GKS Logistics in Bamako. Established in 2019, GKS Logistics is a company specializing in transport and logistics with the skills and experience needed to capture the market.',
    'about-timeline-2020-title': '2020',
    'about-timeline-2020-desc': 'Expansion in West Africa. In 2020, GKS received the award for the best logistics company due to its experience, expertise, and ambitions to conquer national and international markets.',
    'about-timeline-2025-title': '2025',
    'about-timeline-2025-desc': 'GKS Logistics is present globally in over 15 countries, with a strong presence in West Africa, Europe, North America, and the Middle East. Through our international network, we offer integrated, reliable, and flexible logistics solutions tailored to each market\'s needs.',
    'about-stats-countries': 'Countries Served',
    'about-stats-shipments': 'Shipments',
    'about-stats-clients': 'Satisfied Clients',
    // Presence
    'presence-title': 'Our International Presence',
    'presence-mali-title': 'Mali',
    'presence-mali-desc': 'Comprehensive logistics services for your local operations.',
    'presence-turkey-title': 'Turkey',
    'presence-turkey-desc': 'Dynamic connections between Africa and Asia.',
    'presence-france-title': 'France',
    'presence-france-desc': 'Advanced solutions for Europe.',
    'presence-usa-title': 'United States',
    'presence-usa-desc': 'Robust network for international trade.',
    'presence-ivorycoast-title': 'Côte d\'Ivoire',
    'presence-ivorycoast-desc': 'Logistics tailored to regional needs.',
    'presence-guinea-title': 'Guinea',
    'presence-guinea-desc': 'Reliable logistics services in West Africa.',
    'presence-burkina-title': 'Burkina Faso',
    'presence-burkina-desc': 'Logistics solutions for regional trade.',
    'presence-niger-title': 'Niger',
    'presence-niger-desc': 'Logistics services in West Africa.',
    'presence-dubai-title': 'Dubai',
    'presence-dubai-desc': 'Dubai is an essential transit point for international trade.',
    // Testimonials
    'testimonials-title': 'Client Testimonials',
    'testimonials-subtitle': 'Discover why our clients trust us for their logistics needs',
    'testimonial-1': 'GKS Logistics transformed our supply chain with reliable and fast deliveries.',
    'testimonial-name-1': 'Amadou K.',
    'testimonial-role-1': 'Agribusiness Distributor, Bamako',
    'testimonial-date-1': '2 weeks ago',
    'testimonial-2': 'Impeccable service and simplified customs processes. A trusted partner.',
    'testimonial-name-2': 'Aïcha B.',
    'testimonial-role-2': 'Textile Business, Niamey',
    'testimonial-date-2': '1 month ago',
    'testimonial-3': 'On-time delivery and goods in perfect condition. Highly recommended.',
    'testimonial-name-3': 'Mamadou S.',
    'testimonial-role-3': 'Pharmaceutical Company, Conakry',
    'testimonial-date-3': '3 weeks ago',
    'verified-client': 'Verified Client',
    'testimonials-cta-text': 'Join our satisfied clients',
    'testimonials-cta-button': 'Get a Quote',
    // Contact
    'contact-title': 'Contact Us',
    'contact-subtitle': 'Connect with our team for tailored logistics solutions.',
    'contact-image-title': 'Our Team',
    'contact-image-desc': 'Dedicated to your success',
    'contact-name': 'Your Name',
    'contact-name-placeholder': 'Enter your name',
    'contact-service': 'Service',
    'contact-service-placeholder': 'Select a service',
    'contact-service-default': 'Type of Service',
    'contact-service-individual': 'Individual',
    'contact-service-small-business': 'Small Business',
    'contact-service-enterprise': 'Enterprise',
    'contact-service-other': 'Other',
    'contact-email': 'Your Email',
    'contact-email-placeholder': 'Enter your email',
    'contact-message': 'Your Message',
    'contact-message-placeholder': 'Enter your message',
    'contact-submit': 'Send Now',
    'contact-confirmation': 'Message sent successfully!',
    // Chatbot
    'chatbot-title': 'GKS Assistant',
    'chatbot-welcome': 'Hello! Welcome to GKS Logistics. How can I assist you today?',
    'chatbot-placeholder': 'Type your question here...',
    'chatbot-fallback': 'Sorry, I didn\'t understand that. Could you rephrase or contact us at sales@gkslogistics.com?',
    // Footer
    'footer-about': 'Your global logistics partner',
    'footer-links-title': 'Useful Links',
    'footer-contact-title': 'Contact Us',
    'footer-newsletter-title': 'Newsletter',
    'newsletter-placeholder': 'Your email',
    'newsletter-cta': 'Subscribe',
    'newsletter-confirmation': 'Thank you for subscribing!',
    'footer-copy': '© 2025 GKS Logistics. All rights reserved.',
    'floating-cta': 'Free Quote'
  },
  fr: {
    // Navigation
    'nav-services': 'Services',
    'nav-about': 'À Propos',
    'nav-blog': 'Blogs',
    'nav-careers': 'Carrières',
    'nav-contact': 'Contact',
    'nav-news': 'Actualités',
    // Hero
    'hero-title-1': 'Solutions Logistiques Fiables',
    'hero-subtitle-1': 'Votre partenaire pour un transport rapide et sécurisé',
    'hero-cta-1': 'Demander un devis',
    'hero-cta-2': 'En savoir plus',
    'hero-title-2': 'Présence Internationale',
    'hero-subtitle-2': 'Des solutions logistiques adaptées partout dans le monde',
    'hero-cta-3': 'Nos Services',
    'hero-cta-4': 'Notre Réseau',
    'hero-title-3': 'Services de Qualité',
    'hero-subtitle-3': 'Une équipe dédiée pour répondre à vos besoins',
    'hero-cta-5': 'Avis Clients',
    'hero-cta-6': 'Contactez-nous',
    // Services
    'services-title': 'Nos <span id="typed-services"></span>',
    'services-subtitle': 'Des solutions logistiques conçues pour votre succès.',
    'services-cta': 'Découvrir',
    'services-explore': 'Explorez Tous Nos Services',
    'services-typed-1': 'Solutions',
    'services-typed-2': 'Expertise',
    'services-typed-3': 'Fiabilité',
    'service-air-title': 'Fret Aérien',
    'service-air-desc': 'Livraisons rapides et sécurisées à l\'international.',
    'service-air-progress': '98% À Temps',
    'service-sea-title': 'Fret Maritime',
    'service-sea-desc': 'Transport économique pour grandes cargaisons.',
    'service-sea-progress': '95% Efficacité',
    'service-land-title': 'Transport Terrestre',
    'service-land-desc': 'Réseau régional optimisé pour vos besoins.',
    'service-land-progress': '97% Couverture',
    'service-storage-title': 'Entreposage',
    'service-storage-desc': 'Solutions de stockage modernes et sécurisées.',
    'service-storage-progress': '99% Sécurité',
    // About
    'about-philosophy-title': 'Notre Philosophie',
    'about-philosophy-subtitle': 'Les principes qui guident chacune de nos actions.',
    'about-mission-title': 'Notre Mission',
    'about-mission-desc': 'Connecter le monde avec des solutions logistiques innovantes.',
    'about-vision-title': 'Notre Vision',
    'about-vision-desc': 'Redéfinir la logistique grâce à la technologie et la durabilité.',
    'about-commitment-title': 'Notre Engagement',
    'about-commitment-desc': 'Garantir l\'excellence et la fiabilité à chaque étape.',
    'about-history-title': 'Notre Histoire',
    'about-timeline-2019-title': '2019',
    'about-timeline-2019-desc': 'Fondation de GKS Logistics à Bamako. Créé en 2019, GKS Logistics est une entreprise qui évolue dans le domaine du transport et de la logistique avec les compétences et expériences nécessaires pour acquérir le marché.',
    'about-timeline-2020-title': '2020',
    'about-timeline-2020-desc': 'Expansion en Afrique de l\'Ouest. En 2020, elle a reçu le prix de la meilleure entreprise de logistique de par son expérience et son savoir-faire et ses ambitions de conquérir le territoire national et international.',
    'about-timeline-2025-title': '2025',
    'about-timeline-2025-desc': 'GKS Logistics est présent mondialement dans plus de 15 pays, avec une forte implantation en Afrique de l\'Ouest, ainsi qu\'en Europe, en Amérique du Nord et au Moyen-Orient. Grâce à notre réseau international, nous offrons des solutions logistiques intégrées, fiables et flexibles, adaptées aux besoins spécifiques de chaque marché.',
    'about-stats-countries': 'Pays Desservis',
    'about-stats-shipments': 'Expéditions',
    'about-stats-clients': 'Clients Satisfaits',
    // Presence
    'presence-title': 'Notre Présence Internationale',
    'presence-mali-title': 'Mali',
    'presence-mali-desc': 'Services logistiques complets pour vos activités locales.',
    'presence-turkey-title': 'Turquie',
    'presence-turkey-desc': 'Liaisons dynamiques entre l\'Afrique et l\'Asie.',
    'presence-france-title': 'France',
    'presence-france-desc': 'Solutions avancées pour l\'Europe.',
    'presence-usa-title': 'États-Unis',
    'presence-usa-desc': 'Réseau robuste pour le commerce international.',
    'presence-ivorycoast-title': 'Côte d\'Ivoire',
    'presence-ivorycoast-desc': 'Logistique adaptée aux besoins régionaux.',
    'presence-guinea-title': 'Guinée',
    'presence-guinea-desc': 'Services logistiques fiables en Afrique de l\'Ouest.',
    'presence-burkina-title': 'Burkina Faso',
    'presence-burkina-desc': 'Solutions logistiques pour le commerce régional.',
    'presence-niger-title': 'Niger',
    'presence-niger-desc': 'Services logistiques en Afrique de l\'Ouest.',
    'presence-dubai-title': 'Dubai',
    'presence-dubai-desc': 'Dubaï est un point de passage essentiel pour le commerce international.',
    // Testimonials
    'testimonials-title': 'Avis de Nos Clients',
    'testimonials-subtitle': 'Découvrez pourquoi nos clients nous font confiance pour leurs besoins logistiques',
    'testimonial-1': 'GKS Logistics a transformé notre chaîne d\'approvisionnement avec des livraisons fiables et rapides.',
    'testimonial-name-1': 'Amadou K.',
    'testimonial-role-1': 'Distributeur agroalimentaire, Bamako',
    'testimonial-date-1': 'Il y a 2 semaines',
    'testimonial-2': 'Service impeccable et formalités douanières simplifiées. Un partenaire de confiance.',
    'testimonial-name-2': 'Aïcha B.',
    'testimonial-role-2': 'Entreprise textile, Niamey',
    'testimonial-date-2': 'Il y a 1 mois',
    'testimonial-3': 'Respect des délais et marchandises en parfait état. Je recommande vivement.',
    'testimonial-name-3': 'Mamadou S.',
    'testimonial-role-3': 'Société pharmaceutique, Conakry',
    'testimonial-date-3': 'Il y a 3 semaines',
    'verified-client': 'Client Vérifié',
    'testimonials-cta-text': 'Rejoignez nos clients satisfaits',
    'testimonials-cta-button': 'Obtenir un Devis',
    // Contact
    'contact-title': 'Contactez-nous',
    'contact-subtitle': 'Connectez-vous avec notre équipe pour des solutions logistiques sur mesure.',
    'contact-image-title': 'Notre Équipe',
    'contact-image-desc': 'Dédiée à votre succès',
    'contact-name': 'Votre Nom',
    'contact-name-placeholder': 'Entrez votre nom',
    'contact-service': 'Service',
    'contact-service-placeholder': 'Sélectionnez un service',
    'contact-service-default': 'Type de Service',
    'contact-service-individual': 'Particulier',
    'contact-service-small-business': 'Petite Entreprise',
    'contact-service-enterprise': 'Grande Entreprise',
    'contact-service-other': 'Autre',
    'contact-email': 'Votre Email',
    'contact-email-placeholder': 'Entrez votre email',
    'contact-message': 'Votre Message',
    'contact-message-placeholder': 'Entrez votre message',
    'contact-submit': 'Envoyer Maintenant',
    'contact-confirmation': 'Message envoyé avec succès !',
    // Chatbot
    'chatbot-title': 'GKS Assistant',
    'chatbot-welcome': 'Bonjour ! Bienvenue chez GKS Logistics. Comment puis-je vous aider aujourd\'hui ?',
    'chatbot-placeholder': 'Tapez votre question ici...',
    'chatbot-fallback': 'Désolé, je n\'ai pas compris. Pouvez-vous reformuler ou nous contacter à sales@gkslogistics.com ?',
    // Footer
    'footer-about': 'Votre partenaire logistique mondial',
    'footer-links-title': 'Liens Utiles',
    'footer-contact-title': 'Contactez-nous',
    'footer-newsletter-title': 'Newsletter',
    'newsletter-placeholder': 'Votre email',
    'newsletter-cta': 'S\'inscrire',
    'newsletter-confirmation': 'Merci de vous être abonné !',
    'footer-copy': '© 2025 GKS Logistics. Tous droits réservés.',
    'floating-cta': 'Devis Gratuit'
  }
};

// Chatbot Responses (100+ pre-defined answers)
const chatbotResponses = [
  {
    keywords: ['hi', 'hello', 'hey', 'bonjour', 'salut', 'bonsoir', 'good morning', 'good afternoon','good evening', 'bon après-midi' ],
    en: () => {
      const hour = new Date().getHours();
      const timeGreeting = hour < 12 ? 'Good morning' : hour < 18 ? 'Good afternoon' : 'Good evening';
      return `${timeGreeting}! Welcome to GKS Logistics. How can I assist you today?`;
    },
    fr: () => {
      const hour = new Date().getHours();
      const timeGreeting = hour < 12 ? 'Bonjour' : hour < 18 ? 'Bon après-midi' : 'Bonsoir';
      return `${timeGreeting} ! Bienvenue chez GKS Logistics. Comment puis-je vous aider aujourd\'hui ?`;
    }
  },
  {
    keywords: ['who', 'qui', 'presentation', 'présentation', 'gks', 'logistics', 'company', 'fondé', 'founded'],
    en: 'GKS Logistics is a global logistics company founded in 2019 in Bamako, Mali. We specialize in transport and logistics, offering air freight, sea freight, land transport, and warehousing services.',
    fr: 'GKS Logistics est une entreprise logistique mondiale fondée en 2019 à Bamako, Mali. Nous sommes spécialisés dans le transport et la logistique, offrant des services de fret aérien, maritime, terrestre et d\'entreposage.'
  },
  {
    keywords: ['founded', 'when', 'gks', 'fondé', 'fondation'],
    en: 'GKS Logistics was founded in 2019 in Bamako, Mali.',
    fr: 'GKS Logistics a été fondé en 2019 à Bamako, Mali.'
  },
  {
    keywords: ['mission', 'gks'],
    en: 'Our mission is to connect the world with innovative logistics solutions.',
    fr: 'Notre mission est de connecter le monde avec des solutions logistiques innovantes.'
  },
  {
    keywords: ['vision', 'gks'],
    en: 'Our vision is to redefine logistics through technology and sustainability.',
    fr: 'Notre vision est de redéfinir la logistique grâce à la technologie et la durabilité.'
  },
  {
    keywords: ['commitment', 'gks', 'engagement', 'fiabilité'],
    en: 'We are committed to ensuring excellence and reliability at every step.',
    fr: 'Nous nous engageons à garantir l\'excellence et la fiabilité à chaque étape.'
  },
  {
    keywords: ['award', '2020', 'gks', 'expérience', 'expertise', 'récompenses' ],
    en: 'In 2020, GKS Logistics received the award for the best logistics company due to our experience and expertise.',
    fr: 'En 2020, GKS Logistics a reçu le prix de la meilleure entreprise de logistique grâce à notre expérience et notre expertise.'
  },
  {
    keywords: ['services', 'gks', 'offer', 'offre', 'service', 'fret'],
    en: 'GKS Logistics offers air freight, sea freight, land transport, and warehousing services tailored to your needs.',
    fr: 'GKS Logistics propose des services de fret aérien, maritime, terrestre et d\'entreposage adaptés à vos besoins.'
  },
  {
    keywords: ['air', 'freight', 'details', 'fret', 'livraisons'],
    en: 'Our air freight service ensures fast and secure international deliveries with 98% on-time performance.',
    fr: 'Notre service de fret aérien garantit des livraisons internationales rapides et sécurisées avec un taux de ponctualité de 98 %.'
  },
  {
    keywords: ['sea', 'freight', 'details', 'mer', 'cargaisons', 'efficacité'],
    en: 'Sea freight is cost-effective for large cargo, with 95% efficiency.',
    fr: 'Le fret maritime est économique pour les grandes cargaisons, avec une efficacité de 95 %.'
  },
  {
    keywords: ['land', 'transport', 'details'],
    en: 'Our land transport service provides an optimized regional network with 97% coverage.',
    fr: 'Notre service de transport terrestre offre un réseau régional optimisé avec une couverture de 97 %.'
  },
  {
    keywords: ['warehousing', 'details', 'entreposage', 'entrepots', 'sécurité'],
    en: 'We offer modern and secure warehousing solutions with 99% security.',
    fr: 'Nous proposons des solutions d\'entreposage modernes et sécurisées avec une sécurité de 99 %.'
  },
  {
    keywords: ['countries', 'gks', 'operate', 'pays'],
    en: 'GKS Logistics operates in over 15 countries, including Mali, Turkey, France, USA, Dubai, Côte d\'Ivoire, Guinea, Burkina Faso, and Niger.',
    fr: 'GKS Logistics opère dans plus de 15 pays, dont le Mali, la Turquie, la France, les États-Unis, Dubai, la Côte d\'Ivoire, la Guinée, le Burkina Faso et le Niger.'
  },
  {
    keywords: ['mali', 'services'],
    en: 'In Mali, we provide comprehensive logistics services for local operations. Contact us at sales@gkslogistics.com.',
    fr: 'Au Mali, nous fournissons des services logistiques complets pour les opérations locales. Contactez-nous à sales@gkslogistics.com.'
  },
  {
    keywords: ['turkey', 'turquie'],
    en: 'In Turkey, we offer dynamic connections between Africa and Asia. Reach us at sales@gkslogistics.com.',
    fr: 'En Turquie, nous offrons des liaisons dynamiques entre l\'Afrique et l\'Asie. Contactez-nous à sales@gkslogistics.com.'
  },
  {
    keywords: ['france'],
    en: 'In France, we provide advanced logistics solutions for Europe. Email us at paris@gkslogistics.com.',
    fr: 'En France, nous proposons des solutions logistiques avancées pour l\'Europe. Envoyez-nous un email à paris@gkslogistics.com.'
  },
  {
    keywords: ['usa', 'états-unis'],
    en: 'In the USA, we have a robust network for international trade. Contact us at sales@gkslogistics.com.',
    fr: 'Aux États-Unis, nous disposons d\'un réseau robuste pour le commerce international. Contactez sales@gkslogistics.com.'
  },
  {
    keywords: ['côte', 'ivoire'],
    en: 'In Côte d\'Ivoire, our logistics are tailored to regional needs. Email salesabidjan@gkslogistics.com.',
    fr: 'En Côte d\'Ivoire, notre logistique est adaptée aux besoins régionaux. Envoyez un email à salesabidjan@gkslogistics.com.'
  },
  {
    keywords: ['guinea', 'guinée'],
    en: 'In Guinea, we offer reliable logistics services. Contact us at sales@gkslogistics.com.',
    fr: 'En Guinée, nous proposons des services logistiques fiables. Contactez sales@gkslogistics.com.'
  },
  {
    keywords: ['burkina', 'faso'],
    en: 'In Burkina Faso, we provide logistics solutions for regional trade. Email sales@gkslogistics.com.',
    fr: 'Au Burkina Faso, nous fournissons des solutions logistiques pour le commerce régional. Envoyez un email à sales@gkslogistics.com.'
  },
  {
    keywords: ['niger'],
    en: 'In Niger, we offer logistics services in West Africa. Contact salesniger@gkslogistics.com.',
    fr: 'Au Niger, nous proposons des services logistiques en Afrique de l\'Ouest. Contactez salesniger@gkslogistics.com.'
  },
  {
    keywords: ['dubai'],
    en: 'In Dubai, we provide logistics services as a key transit point. Contact mohamed.keita@gkslogistics.com.',
    fr: 'À Dubai, nous offrons des services logistiques comme point de transit clé. Contactez mohamed.keita@gkslogistics.com.'
  },
  {
    keywords: ['contact', 'gks', 'contacter', 'email', 'numéro', 'number', 'numero', 'telephone', 'téléphone', 'phone'],
    en: 'You can contact GKS Logistics at sales@gkslogistics.com or call +223 90929273.',
    fr: 'Vous pouvez contacter GKS Logistics à sales@gkslogistics.com ou appeler le +223 90929273.'
  },
  {
    keywords: ['careers', 'jobs', 'gks', 'carrière', 'travaille', 'postuler'],
    en: 'Explore career opportunities at GKS Logistics on our Careers page: careers.html.',
    fr: 'Découvrez les opportunités de carrière chez GKS Logistics sur notre page Carrières : careers.html.'
  },
  {
    keywords: ['newsletter', 'subscribe'],
    en: 'Subscribe to our newsletter in the footer to stay updated on GKS Logistics news.',
    fr: 'Inscrivez-vous à notre newsletter dans le pied de page pour rester informé des actualités de GKS Logistics.'
  },
  {
    keywords: ['website', 'navigate','site'],
    en: 'Use the navigation menu to explore Services, About, Case Studies, Careers, News, and Contact sections.',
    fr: 'Utilisez le menu de navigation pour explorer les sections Services, À Propos, Réalisations, Carrières, Actualités et Contact.'
  },
  {
    keywords: ['track', 'shipment', 'suivre', 'expédition'],
    en: 'To track your shipment, contact our team at sales@gkslogistics.com with your shipment details.',
    fr: 'Pour suivre votre expédition, contactez notre équipe à sales@gkslogistics.com avec les détails de votre expédition.'
  },
  {
    keywords: ['customs', 'services', 'douane', 'dédouanement', 'internationale'],
    en: 'We offer customs clearance services to simplify international shipping. Contact us for details.',
    fr: 'Nous proposons des services de dédouanement pour simplifier l\'expédition internationale. Contactez-nous pour plus de détails.'
  },
  // --- Deep Service Details ---
  {
    keywords: ['fcl', 'lcl', 'difference', 'container', 'conteneur'],
    en: 'FCL (Full Container Load) means you book a full container for your cargo. LCL (Less than Container Load) means you share container space with other shippers, which is more cost-effective for smaller shipments.',
    fr: 'FCL (Full Container Load) signifie que vous réservez un conteneur complet pour votre marchandise. LCL (Less than Container Load) signifie que vous partagez l\'espace du conteneur avec d\'autres expéditeurs, ce qui est plus rentable pour les petits envois.'
  },
  {
    keywords: ['temperature', 'controlled', 'cold chain', 'froid', 'pharmaceuticals', 'pharmaceutiques'],
    en: 'Yes, we offer specialized temperature-controlled logistics (cold chain) for sensitive goods like pharmaceuticals and perishables. Our solutions ensure product integrity from origin to destination.',
    fr: 'Oui, nous proposons des services de logistique à température contrôlée (chaîne du froid) pour les marchandises sensibles comme les produits pharmaceutiques et les denrées périssables. Nos solutions garantissent l\'intégrité des produits de l\'origine à la destination.'
  },
  {
    keywords: ['dangerous', 'goods', 'hazmat', 'dangereux', 'matières'],
    en: 'We handle dangerous goods transportation with full compliance to international regulations. Our certified team ensures safe handling and documentation for hazardous materials.',
    fr: 'Nous gérons le transport de marchandises dangereuses en respectant pleinement les réglementations internationales. Notre équipe certifiée garantit une manipulation et une documentation sécurisées pour les matières dangereuses.'
  },
  {
    keywords: ['insurance', 'assurance', 'coverage', 'couverture'],
    en: 'We provide comprehensive cargo insurance options to protect your shipments. Our insurance partners offer competitive rates and full coverage for international transport.',
    fr: 'Nous proposons des options d\'assurance cargo complètes pour protéger vos expéditions. Nos partenaires d\'assurance offrent des tarifs compétitifs et une couverture complète pour le transport international.'
  },
  {
    keywords: ['packaging', 'emballage', 'packing', 'conditionnement'],
    en: 'We offer professional packaging services to ensure your goods are properly protected during transit. Our team uses industry-standard materials and techniques.',
    fr: 'Nous proposons des services d\'emballage professionnels pour garantir que vos marchandises sont correctement protégées pendant le transit. Notre équipe utilise des matériaux et techniques conformes aux normes de l\'industrie.'
  },
  // --- Operational & Country-Specific ---
  {
    keywords: ['customs', 'clearance', 'process', 'dédouanement', 'douane', 'documentation'],
    en: 'Our team of experts handles the entire customs clearance process, including documentation, duties, and compliance, to ensure your shipments cross borders smoothly and without delay.',
    fr: 'Notre équipe d\'experts gère l\'ensemble du processus de dédouanement, y compris la documentation, les droits de douane et la conformité, pour garantir que vos envois traversent les frontières sans problème et sans délai.'
  },
  {
    keywords: ['bamako', 'mali', 'office', 'bureau', 'headquarters', 'siège'],
    en: 'Our headquarters is located in Bamako, Mali. We have a modern facility with state-of-the-art equipment and a team of logistics professionals ready to serve you.',
    fr: 'Notre siège social est situé à Bamako, Mali. Nous disposons d\'une installation moderne avec un équipement de pointe et une équipe de professionnels de la logistique prêts à vous servir.'
  },
  {
    keywords: ['west africa', 'afrique occidentale', 'regional', 'régional'],
    en: 'We have extensive operations across West Africa, including Mali, Côte d\'Ivoire, Guinea, Burkina Faso, and Niger. Our regional network ensures efficient local delivery.',
    fr: 'Nous avons des opérations étendues en Afrique de l\'Ouest, notamment au Mali, en Côte d\'Ivoire, en Guinée, au Burkina Faso et au Niger. Notre réseau régional garantit une livraison locale efficace.'
  },
  {
    keywords: ['europe', 'european', 'france', 'turkey', 'turquie'],
    en: 'We operate in key European markets including France and Turkey, providing seamless connections between Africa and Europe for your logistics needs.',
    fr: 'Nous opérons sur les marchés européens clés, notamment la France et la Turquie, offrant des connexions transparentes entre l\'Afrique et l\'Europe pour vos besoins logistiques.'
  },
  {
    keywords: ['usa', 'america', 'north america', 'amérique', 'états-unis'],
    en: 'We have established partnerships in the USA and North America, enabling us to handle transatlantic shipments efficiently and reliably.',
    fr: 'Nous avons établi des partenariats aux États-Unis et en Amérique du Nord, nous permettant de gérer les expéditions transatlantiques de manière efficace et fiable.'
  },
  {
    keywords: ['dubai', 'uae', 'middle east', 'moyen-orient'],
    en: 'Our Dubai operations serve as a strategic hub for Middle East and Asian markets, providing excellent connectivity and logistics solutions.',
    fr: 'Nos opérations à Dubaï servent de plaque tournante stratégique pour les marchés du Moyen-Orient et d\'Asie, offrant une excellente connectivité et des solutions logistiques.'
  },
  // --- Company & Business ---
  {
    keywords: ['ceo', 'director', 'directeur', 'leader', 'aboubacar', 'konate'],
    en: 'Our CEO and Founder is Aboubacar Sidiki Konate, who leads our vision of connecting the world with innovative and reliable logistics solutions.',
    fr: 'Notre PDG et Fondateur est Aboubacar Sidiki Konate, qui dirige notre vision de connecter le monde avec des solutions logistiques innovantes et fiables.'
  },
  {
    keywords: ['general manager', 'directrice générale', 'alimata', 'konate'],
    en: 'Our General Manager is Alimata Konate, who oversees our daily operations and ensures the highest standards of service delivery.',
    fr: 'Notre Directrice Générale est Alimata Konate, qui supervise nos opérations quotidiennes et garantit les plus hauts standards de prestation de services.'
  },
  {
    keywords: ['different', 'competitors', 'advantage', 'concurrents', 'avantage', 'unique'],
    en: 'Our key advantage is our deep local expertise in West Africa combined with a global network. We offer personalized, flexible solutions that larger competitors often cannot match.',
    fr: 'Notre principal avantage est notre profonde expertise locale en Afrique de l\'Ouest combinée à un réseau mondial. Nous offrons des solutions personnalisées et flexibles que les grands concurrents ne peuvent souvent pas égaler.'
  },
  {
    keywords: ['experience', 'years', 'années', 'expertise', 'since', 'depuis'],
    en: 'Since our founding in 2019, we have built extensive experience in international logistics, serving clients across multiple continents with reliable and efficient solutions.',
    fr: 'Depuis notre fondation en 2019, nous avons acquis une vaste expérience en logistique internationale, servant des clients sur plusieurs continents avec des solutions fiables et efficaces.'
  },
  {
    keywords: ['clients', 'customers', 'clients', 'satisfaction', 'satisfaction'],
    en: 'We serve a diverse range of clients from small businesses to large corporations, with a focus on customer satisfaction and reliable service delivery.',
    fr: 'Nous servons une gamme diversifiée de clients, des petites entreprises aux grandes corporations, avec un accent sur la satisfaction client et la prestation de services fiable.'
  },
  {
    keywords: ['partnership', 'partenariat', 'collaboration', 'alliance'],
    en: 'We believe in building strong partnerships with our clients, suppliers, and stakeholders to create mutually beneficial relationships and sustainable growth.',
    fr: 'Nous croyons en l\'établissement de partenariats solides avec nos clients, fournisseurs et parties prenantes pour créer des relations mutuellement bénéfiques et une croissance durable.'
  },
  // --- Careers & HR ---
  {
    keywords: ['benefits', 'avantages', 'work', 'travailler', 'employment', 'emploi'],
    en: 'GKS Logistics offers competitive salaries, opportunities for professional development and training, and a collaborative, inclusive work environment. Explore openings on our Careers page!',
    fr: 'GKS Logistics offre des salaires compétitifs, des opportunités de développement professionnel et de formation, ainsi qu\'un environnement de travail collaboratif et inclusif. Découvrez les postes ouverts sur notre page Carrières !'
  },
  {
    keywords: ['careers', 'jobs', 'emplois', 'positions', 'postes', 'hiring', 'recrutement'],
    en: 'We are always looking for talented individuals to join our team. Visit our Careers page to see current openings and learn about our company culture.',
    fr: 'Nous recherchons toujours des personnes talentueuses pour rejoindre notre équipe. Visitez notre page Carrières pour voir les postes ouverts et découvrir notre culture d\'entreprise.'
  },
  {
    keywords: ['team', 'équipe', 'employees', 'employés', 'staff', 'personnel'],
    en: 'Our team consists of dedicated logistics professionals who are passionate about delivering excellence. We value diversity, innovation, and continuous learning.',
    fr: 'Notre équipe se compose de professionnels de la logistique dévoués qui sont passionnés par l\'excellence. Nous valorisons la diversité, l\'innovation et l\'apprentissage continu.'
  },
  {
    keywords: ['culture', 'values', 'valeurs', 'principles', 'principes'],
    en: 'Our company culture is built on integrity, excellence, innovation, and customer focus. We foster an environment where every team member can thrive and contribute.',
    fr: 'Notre culture d\'entreprise est basée sur l\'intégrité, l\'excellence, l\'innovation et l\'orientation client. Nous favorisons un environnement où chaque membre de l\'équipe peut s\'épanouir et contribuer.'
  },
  // --- Technology & Innovation ---
  {
    keywords: ['technology', 'technologie', 'digital', 'innovation', 'innovant'],
    en: 'We leverage cutting-edge technology and digital solutions to optimize our logistics operations, providing real-time tracking and efficient supply chain management.',
    fr: 'Nous utilisons des technologies de pointe et des solutions numériques pour optimiser nos opérations logistiques, offrant un suivi en temps réel et une gestion efficace de la chaîne d\'approvisionnement.'
  },
  {
    keywords: ['tracking', 'suivi', 'monitoring', 'surveillance', 'real-time', 'temps réel'],
    en: 'Our advanced tracking system provides real-time visibility of your shipments from origin to destination, giving you peace of mind and complete transparency.',
    fr: 'Notre système de suivi avancé offre une visibilité en temps réel de vos expéditions de l\'origine à la destination, vous donnant la tranquillité d\'esprit et une transparence complète.'
  },
  {
    keywords: ['sustainability', 'durabilité', 'environment', 'environnement', 'green', 'vert'],
    en: 'We are committed to sustainable logistics practices, implementing eco-friendly solutions and reducing our environmental impact while maintaining service excellence.',
    fr: 'Nous nous engageons dans des pratiques logistiques durables, mettant en œuvre des solutions respectueuses de l\'environnement et réduisant notre impact environnemental tout en maintenant l\'excellence du service.'
  },
  // --- Pricing & Quotes ---
  {
    keywords: ['pricing', 'tarifs', 'rates', 'tarification', 'cost', 'coût'],
    en: 'Our pricing is competitive and transparent. We provide detailed quotes based on your specific requirements. Contact us for a personalized quote.',
    fr: 'Nos tarifs sont compétitifs et transparents. Nous fournissons des devis détaillés basés sur vos exigences spécifiques. Contactez-nous pour un devis personnalisé.'
  },
  {
    keywords: ['quote', 'devis', 'estimate', 'estimation', 'price', 'prix'],
    en: 'I can help with that! You can fill out our detailed form to get an accurate quote. <br><br> <button class="btn-chatbot-action" onclick="openQuoteModal()">Open Quote Form</button> or visit our <a href="#contact">Contact Page</a>.',
    fr: 'Je peux vous aider avec ça ! Vous pouvez remplir notre formulaire détaillé pour obtenir un devis précis. <br><br> <button class="btn-chatbot-action" onclick="openQuoteModal()">Ouvrir le formulaire de devis</button> ou visitez notre <a href="#contact">Page de Contact</a>.'
  },
  {
    keywords: ['minimum', 'order', 'commande', 'minimum', 'volume', 'quantité'],
    en: 'We handle shipments of all sizes, from small packages to full container loads. There are no minimum order requirements, and we can accommodate your specific needs.',
    fr: 'Nous gérons des expéditions de toutes tailles, des petits colis aux chargements de conteneurs complets. Il n\'y a pas d\'exigences de commande minimum, et nous pouvons nous adapter à vos besoins spécifiques.'
  },
  // --- Service Quality & Performance ---
  {
    keywords: ['quality', 'qualité', 'standards', 'normes', 'excellence'],
    en: 'We maintain the highest quality standards in all our operations, with ISO certifications and continuous improvement processes to ensure service excellence.',
    fr: 'Nous maintenons les plus hauts standards de qualité dans toutes nos opérations, avec des certifications ISO et des processus d\'amélioration continue pour garantir l\'excellence du service.'
  },
  {
    keywords: ['on-time', 'delivery', 'ponctualité', 'livraison', 'performance', 'performance'],
    en: 'We maintain a 98% on-time delivery rate across all our services, ensuring your shipments arrive when promised.',
    fr: 'Nous maintenons un taux de livraison ponctuelle de 98% sur tous nos services, garantissant que vos expéditions arrivent comme promis.'
  },
  {
    keywords: ['security', 'sécurité', 'safety', 'sûreté', 'protection'],
    en: 'Security is our top priority. We implement comprehensive security measures including 24/7 monitoring, secure facilities, and trained personnel to protect your cargo.',
    fr: 'La sécurité est notre priorité absolue. Nous mettons en œuvre des mesures de sécurité complètes, notamment une surveillance 24h/24, des installations sécurisées et du personnel formé pour protéger votre cargaison.'
  },
  {
    keywords: ['certification', 'certifications', 'iso', 'compliance', 'conformité'],
    en: 'We hold various international certifications and comply with all relevant industry standards, ensuring our operations meet the highest global requirements.',
    fr: 'Nous détenons diverses certifications internationales et respectons toutes les normes industrielles pertinentes, garantissant que nos opérations répondent aux plus hautes exigences mondiales.'
  },
  // --- Industry Expertise ---
  {
    keywords: ['automotive', 'automobile', 'industry', 'industrie', 'sector', 'secteur'],
    en: 'We have extensive experience in automotive logistics, handling everything from spare parts to complete vehicles with specialized equipment and expertise.',
    fr: 'Nous avons une vaste expérience en logistique automobile, gérant tout, des pièces de rechange aux véhicules complets avec un équipement spécialisé et une expertise.'
  },
  {
    keywords: ['textile', 'clothing', 'vêtements', 'fashion', 'mode'],
    en: 'Our textile and fashion logistics services include specialized handling for delicate fabrics, seasonal inventory management, and fast fashion supply chains.',
    fr: 'Nos services de logistique textile et mode incluent la manipulation spécialisée pour les tissus délicats, la gestion d\'inventaire saisonnier et les chaînes d\'approvisionnement de la mode rapide.'
  },
  {
    keywords: ['food', 'alimentaire', 'beverage', 'boissons', 'perishable', 'périssable'],
    en: 'We specialize in food and beverage logistics with temperature-controlled facilities, cold chain management, and compliance with food safety regulations.',
    fr: 'Nous nous spécialisons dans la logistique alimentaire et des boissons avec des installations à température contrôlée, la gestion de la chaîne du froid et la conformité aux réglementations de sécurité alimentaire.'
  },
  {
    keywords: ['electronics', 'électronique', 'technology', 'high-tech'],
    en: 'Our electronics logistics services include anti-static handling, secure packaging, and specialized transport for sensitive electronic components and devices.',
    fr: 'Nos services de logistique électronique incluent la manipulation antistatique, l\'emballage sécurisé et le transport spécialisé pour les composants et appareils électroniques sensibles.'
  },
  // --- Emergency & Support ---
  {
    keywords: ['emergency', 'urgence', 'urgent', 'urgent', 'rush', 'express'],
    en: 'We offer emergency and express shipping services for time-critical shipments. Contact us immediately for urgent logistics needs.',
    fr: 'Nous proposons des services d\'expédition d\'urgence et express pour les envois critiques en temps. Contactez-nous immédiatement pour des besoins logistiques urgents.'
  },
  {
    keywords: ['support', 'assistance', 'help', 'aide', 'customer service', 'service client'],
    en: 'Our customer support team is available 24/7 to assist you with any questions or concerns. We provide multilingual support in English, French, and local languages.',
    fr: 'Notre équipe de support client est disponible 24h/24 pour vous aider avec toute question ou préoccupation. Nous fournissons un support multilingue en anglais, français et langues locales.'
  },
  {
    keywords: ['problem', 'issue', 'problème', 'complaint', 'plainte', 'resolve', 'résoudre'],
    en: 'We take all issues seriously and work quickly to resolve them. Contact our customer service team, and we will investigate and provide a solution promptly.',
    fr: 'Nous prenons tous les problèmes au sérieux et travaillons rapidement pour les résoudre. Contactez notre équipe de service client, et nous enquêterons et fournirons une solution rapidement.'
  },
  // --- Contact & Communication ---
  {
    keywords: ['email', 'courriel', 'contact', 'phone', 'téléphone', 'address', 'adresse'],
    en: 'You can reach us at sales@gkslogistics.com, call our office, or visit us at our headquarters in Bamako, Mali. We respond to all inquiries within 24 hours.',
    fr: 'Vous pouvez nous joindre à sales@gkslogistics.com, appeler notre bureau ou nous rendre visite à notre siège social à Bamako, Mali. Nous répondons à toutes les demandes dans les 24 heures.'
  },
  {
    keywords: ['social media', 'réseaux sociaux', 'facebook', 'twitter', 'linkedin'],
    en: 'Follow us on social media for the latest updates: Facebook, Twitter (@gks_logistics), and LinkedIn. Stay connected with GKS Logistics news and industry insights.',
    fr: 'Suivez-nous sur les réseaux sociaux pour les dernières mises à jour : Facebook, Twitter (@gks_logistics) et LinkedIn. Restez connecté avec les actualités GKS Logistics et les insights de l\'industrie.'
  },
  {
    keywords: ['newsletter', 'newsletter', 'updates', 'mises à jour', 'subscribe', 's\'abonner'],
    en: 'Subscribe to our newsletter in the footer to receive regular updates about our services, industry news, and special offers.',
    fr: 'Abonnez-vous à notre newsletter dans le pied de page pour recevoir des mises à jour régulières sur nos services, les actualités de l\'industrie et les offres spéciales.'
  }
];

// Language Detection Function
function detectLanguage(input) {
  const frenchWords = ['bonjour', 'comment', 'services', 'contact', 'demande', 'entreprise', 'clients', 'contactez', 'contacter', 'devis', 'fret', 'entreposage','mer', 'aérien', 'maritime', 'terrestre', 'mali', 'france', 'turquie', 'guinée', 'burkina', 'niger', 'côte', 'ivoire', 'à', 'pour', 'notre', 'votre', 'est', 'sont', 'prix', 'tarrif'];
  const englishWords = ['hello', 'how', 'services', 'contact', 'quote', 'freight', 'warehousing', 'air', 'sea', 'land', 'mali', 'france', 'turkey', 'guinea', 'burkina', 'niger', 'ivory', 'coast', 'for', 'our', 'your', 'is', 'are'];
  
  const inputLower = input.toLowerCase();
  let frenchCount = 0;
  let englishCount = 0;

  frenchWords.forEach(word => {
    if (inputLower.includes(word)) frenchCount++;
  });
  englishWords.forEach(word => {
    if (inputLower.includes(word)) englishCount++;
  });

  if (frenchCount > englishCount) return 'fr';
  if (englishCount > frenchCount) return 'en';
  return currentLang;
}

// Enhanced Chatbot Response Matching with Keyword Scoring
function getChatbotResponse(input) {
  const inputLower = input.toLowerCase();
  let bestMatch = { score: 0, response: null };

  chatbotResponses.forEach(response => {
    let currentScore = 0;
    response.keywords.forEach(keyword => {
      if (inputLower.includes(keyword.toLowerCase())) {
        currentScore++;
      }
    });

    if (currentScore > bestMatch.score) {
      bestMatch.score = currentScore;
      bestMatch.response = response;
    }
  });

  if (bestMatch.score > 0) {
    const lang = detectLanguage(input);
    return typeof bestMatch.response[lang] === 'function' ? bestMatch.response[lang]() : bestMatch.response[lang];
  }

  // Log unanswered questions for Phase 4
  console.log(`Unanswered question: "${input}"`); 

  return translations[currentLang]['chatbot-fallback'];
}

// Language Toggle
let currentLang = 'fr';
const languageToggle = document.getElementById('languageToggle');

function updateLanguage(lang) {
  document.querySelectorAll('[data-translate]').forEach(element => {
    const key = element.getAttribute('data-translate');
    if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
      element.placeholder = translations[lang][key] || element.placeholder;
    } else if (element.tagName === 'SELECT') {
      const options = element.querySelectorAll('option');
      options.forEach(option => {
        const optionKey = option.getAttribute('data-translate');
        if (optionKey) {
          option.textContent = translations[lang][optionKey] || option.textContent;
        }
      });
    } else {
      if (element.id === 'typed-services') {
        return;
      }
      element.innerHTML = translations[lang][key] || element.innerHTML;
    }
  });

  // Update chatbot content
  const chatbotTitle = document.querySelector('.chatbot-header h3');
  if (chatbotTitle) chatbotTitle.innerHTML = translations[lang]['chatbot-title'];
  const chatbotInput = document.querySelector('#chatbotInput');
  if (chatbotInput) chatbotInput.placeholder = translations[lang]['chatbot-placeholder'];

  // Update Typed.js content
  if (window.typed && typeof Typed !== 'undefined') {
    window.typed.destroy();
    window.typed = new Typed('#typed-services', {
      strings: [
        translations[lang]['services-typed-1'],
        translations[lang]['services-typed-2'],
        translations[lang]['services-typed-3']
      ],
      typeSpeed: 50,
      backSpeed: 25,
      backDelay: 1500,
      loop: true
    });
  }

  // Update chatbot messages
  const chatbotMessages = document.getElementById('chatbotMessages');
  if (chatbotMessages) {
    const welcomeMessage = chatbotMessages.querySelector('.bot-message p');
    if (welcomeMessage) welcomeMessage.textContent = translations[lang]['chatbot-welcome'];
  }

  // Update language toggle button
  languageToggle.title = lang === 'fr' ? 'Switch to English' : 'Passer au Français';
  const langText = languageToggle.querySelector('.lang-text');
  if (langText) {
    langText.textContent = lang === 'fr' ? 'FR' : 'EN';
  }
}

if (languageToggle) {
  languageToggle.addEventListener('click', () => {
    currentLang = currentLang === 'fr' ? 'en' : 'fr';
    updateLanguage(currentLang);
  });
}

// Hero Slider
const heroSlides = document.querySelectorAll('.hero-slide');
let currentHeroSlide = 0;

function showHeroSlide(index) {
  heroSlides.forEach((slide, i) => {
    slide.classList.toggle('active', i === index);
  });
}

function nextHeroSlide() {
  currentHeroSlide = (currentHeroSlide + 1) % heroSlides.length;
  showHeroSlide(currentHeroSlide);
}

setInterval(nextHeroSlide, 10000);
showHeroSlide(currentHeroSlide);


// Typed.js for Services - Initialize after DOM and Typed.js are loaded
function initializeTyped() {
  const typedElement = document.getElementById('typed-services');
  if (!typedElement) return;
  
  if (typeof Typed !== 'undefined') {
    window.typed = new Typed('#typed-services', {
      strings: [
        translations[currentLang]['services-typed-1'],
        translations[currentLang]['services-typed-2'],
        translations[currentLang]['services-typed-3']
      ],
      typeSpeed: 60,
      backSpeed: 30,
      backDelay: 1200,
      loop: true
    });
  } else {
    // Fallback: show static text if Typed.js fails to load
    typedElement.textContent = translations[currentLang]['services-typed-1'] || 'Services';
  }
}

// Initialize Typed.js when DOM is ready
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', initializeTyped);
} else {
  initializeTyped();
}

// Intersection Observer for Animations
if ('IntersectionObserver' in window) {
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
        observer.unobserve(entry.target);
      }
    });
  }, {
    threshold: 0.1
  });

  // Wait for DOM to be ready before observing elements
  function observeElements() {
    const elementsToObserve = document.querySelectorAll('.card, .timeline-item, .stat, .about-hero-content');
    elementsToObserve.forEach(element => {
      observer.observe(element);
    });
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', observeElements);
  } else {
    observeElements();
  }
} else {
  // Fallback for browsers that don't support IntersectionObserver
  console.warn('IntersectionObserver not supported, animations will not work');
  document.querySelectorAll('.card, .timeline-item, .stat, .about-hero-content').forEach(element => {
    element.classList.add('visible');
  });
}

// Stats Counter - DISABLED (stats are now static)
// function animateStats() {
//   const stats = document.querySelectorAll('.stat-number');
//   stats.forEach(stat => {
//     const target = parseInt(stat.getAttribute('data-target'));
//     let count = 0;
//     const increment = target / 30; // Reduced from 100 to 30 for faster animation
//     const updateCount = () => {
//       count += increment;
//       if (count < target) {
//         stat.textContent = Math.ceil(count);
//         requestAnimationFrame(updateCount);
//       } else {
//         stat.textContent = target + '+';
//       }
//     };
//     updateCount();
//   });
// }

// Stats Counter Animation - DISABLED (stats are now static)
// function initializeStatsAnimation() {
//   const statsSection = document.querySelector('.about-stats');
//   if (!statsSection) return;
//   
//   if ('IntersectionObserver' in window) {
//     const statsObserver = new IntersectionObserver((entries) => {
//       if (entries[0].isIntersecting) {
//         animateStats();
//         statsObserver.unobserve(statsSection);
//       }
//     }, { threshold: 0.3 });
//
//     statsObserver.observe(statsSection);
//   } else {
//     // Fallback: animate stats immediately if IntersectionObserver not supported
//     animateStats();
//   }
// }

// Initialize stats animation when DOM is ready - DISABLED
// if (document.readyState === 'loading') {
//   document.addEventListener('DOMContentLoaded', initializeStatsAnimation);
// } else {
//   initializeStatsAnimation();
// }

// Presence Slider - Initialize when DOM is ready
function initializeSlider() {
  const sliderTrack = document.getElementById('sliderTrack');
  const cards = document.querySelectorAll('.presence .card');
  const leftArrow = document.getElementById('leftArrow');
  const rightArrow = document.getElementById('rightArrow');
  const sliderDots = document.getElementById('sliderDots');
  
  if (!sliderTrack || !cards.length) return;
  
  const cardWidth = cards[0].offsetWidth + 16;
  let currentIndex = 0;
  const visibleCards = window.innerWidth >= 768 ? 4 : 2;
  const totalSlides = Math.ceil(cards.length / visibleCards);
  
  // Touch swipe functionality
  let startX = 0;
  let currentX = 0;
  let isDragging = false;
  
  sliderTrack.addEventListener('touchstart', (e) => {
    startX = e.touches[0].clientX;
    isDragging = true;
  });
  
  sliderTrack.addEventListener('touchmove', (e) => {
    if (!isDragging) return;
    currentX = e.touches[0].clientX;
  });
  
  sliderTrack.addEventListener('touchend', () => {
    if (!isDragging) return;
    isDragging = false;
    
    const diffX = startX - currentX;
    const threshold = 50;
    
    if (Math.abs(diffX) > threshold) {
      if (diffX > 0 && currentIndex < totalSlides - 1) {
        goToSlide(currentIndex + 1);
      } else if (diffX < 0 && currentIndex > 0) {
        goToSlide(currentIndex - 1);
      }
    }
  });

  function createDots() {
    if (!sliderDots) return;
    for (let i = 0; i < totalSlides; i++) {
      const dot = document.createElement('div');
      dot.classList.add('dot');
      if (i === 0) dot.classList.add('active');
      dot.addEventListener('click', () => goToSlide(i));
      sliderDots.appendChild(dot);
    }
  }

  function updateDots() {
    document.querySelectorAll('.slider-dots .dot').forEach((dot, i) => {
      dot.classList.toggle('active', i === currentIndex);
    });
  }

  function goToSlide(index) {
    currentIndex = index;
    const offset = -currentIndex * cardWidth * visibleCards;
    if (sliderTrack) sliderTrack.style.transform = `translateX(${offset}px)`;
    updateDots();
  }

  if (leftArrow) {
    leftArrow.addEventListener('click', () => {
      if (currentIndex > 0) {
        goToSlide(currentIndex - 1);
      }
    });
  }

  if (rightArrow) {
    rightArrow.addEventListener('click', () => {
      if (currentIndex < totalSlides - 1) {
        goToSlide(currentIndex + 1);
      }
    });
  }

  window.addEventListener('resize', () => {
    const newVisibleCards = window.innerWidth >= 768 ? 4 : 2;
    if (newVisibleCards !== visibleCards) {
      location.reload();
    }
  });

  createDots();
}

// Initialize slider when DOM is ready
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', initializeSlider);
} else {
  initializeSlider();
}

// Menu Toggle - Initialize when DOM is ready
function initializeMenuToggle() {
  const menuToggle = document.querySelector('.menu-toggle');
  const nav = document.querySelector('.nav');

  if (menuToggle && nav) {
    menuToggle.addEventListener('click', () => {
      nav.classList.toggle('active');
      const isExpanded = nav.classList.contains('active');
      menuToggle.setAttribute('aria-expanded', isExpanded);
      menuToggle.querySelector('i').classList.toggle('fa-bars');
      menuToggle.querySelector('i').classList.toggle('fa-times');
    });
  }
}

// Initialize menu toggle when DOM is ready
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', initializeMenuToggle);
} else {
  initializeMenuToggle();
}

// Scroll Effects - Initialize when DOM is ready
function initializeScrollEffects() {
  const header = document.querySelector('.header');
  const backToTop = document.querySelector('.back-to-top');
  const floatingCta = document.querySelector('.floating-cta');

  // Header Scroll Effect
  // Combined scroll handler for better performance
  let scrollTicking = false;
  
  function handleScroll() {
    if (!scrollTicking) {
      requestAnimationFrame(() => {
        const scrollY = window.scrollY;
        if (header) header.classList.toggle('scrolled', scrollY > 50);
        if (backToTop) backToTop.classList.toggle('visible', scrollY > 300);
        scrollTicking = false;
      });
      scrollTicking = true;
    }
  }
  
  window.addEventListener('scroll', handleScroll);

  if (backToTop) {
    backToTop.addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });
  }

  // Floating CTA Button
  window.addEventListener('scroll', () => {
    if (floatingCta) {
      if (window.scrollY > 500) {
        floatingCta.classList.add('visible');
        floatingCta.style.display = 'flex';
      } else {
        floatingCta.classList.remove('visible');
        floatingCta.style.display = 'none';
      }
    }
  });
}

// Initialize scroll effects when DOM is ready
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', initializeScrollEffects);
} else {
  initializeScrollEffects();
}

// Contact Form Submission - Initialize when DOM is ready
function initializeContactForm() {
  const contactForm = document.getElementById('contactForm');
  const contactConfirmation = document.getElementById('contactConfirmation');

  if (contactForm) {
  contactForm.addEventListener('submit', async (e) => {
    e.preventDefault();
    const name = document.getElementById('name').value.trim();
    const service = document.getElementById('service').value;
    const email = document.getElementById('email').value.trim();
    const message = document.getElementById('message').value.trim();

    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!name) {
      showToast(translations[currentLang]['contact-name-placeholder'] + ' est requis.', 'error');
      return;
    }
    if (!service) {
      showToast(translations[currentLang]['contact-service-placeholder'] + ' est requis.', 'error');
      return;
    }
    if (!email || !emailRegex.test(email)) {
      showToast('Veuillez entrer une adresse e-mail valide.', 'error');
      return;
    }
    if (!message) {
      showToast(translations[currentLang]['contact-message-placeholder'] + ' est requis.', 'error');
      return;
    }

    try {
      const response = await fetch('https://formspree.io/f/xjkyqooy', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Accept': 'application/json'
        },
        body: JSON.stringify({
          name: name,
          service: translations[currentLang][`contact-service-${service}`] || service,
          email: email,
          message: message
        })
      });

      if (response.ok) {
        showToast('Message envoyé avec succès !', 'success');
        contactForm.reset();
      } else {
        showToast('Échec de l\'envoi du message. Veuillez réessayer plus tard.', 'error');
      }
    } catch (error) {
      console.error('Erreur:', error);
      showToast('Une erreur s\'est produite. Veuillez réessayer plus tard.', 'error');
    }
  });
  }
}

// Newsletter Form - Initialize when DOM is ready
function initializeNewsletterForm() {
  const newsletterForm = document.getElementById('newsletterForm');
  if (newsletterForm) {
    newsletterForm.addEventListener('submit', (e) => {
      e.preventDefault();
      showToast('Merci de vous être abonné à notre newsletter !', 'success');
      newsletterForm.reset();
    });
  }
}

// Initialize forms when DOM is ready
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', () => {
    initializeContactForm();
    initializeNewsletterForm();
  });
} else {
  initializeContactForm();
  initializeNewsletterForm();
}

// Chatbot Functionality - Initialize when DOM is ready
function initializeChatbot() {
  const chatbotToggle = document.querySelector('.chatbot-toggle');
  const chatbot = document.querySelector('#chatbot');
  const chatbotMessages = document.querySelector('.chatbot-messages');
  const chatbotInput = document.querySelector('#chatbotInput');
  const chatbotSend = document.querySelector('.chatbot-send');

  // Debug: Check if elements are found
  console.log('Chatbot elements found:', {
    chatbotToggle: !!chatbotToggle,
    chatbot: !!chatbot,
    chatbotMessages: !!chatbotMessages,
    chatbotInput: !!chatbotInput,
    chatbotSend: !!chatbotSend
  });


if (chatbotToggle && chatbot) {
  chatbotToggle.addEventListener('click', () => {
    chatbot.classList.toggle('active');
    if (chatbot.classList.contains('active') && chatbotMessages && chatbotMessages.children.length === 0) {
      const welcomeMessage = document.createElement('div');
      welcomeMessage.className = 'message bot-message';
      const p = document.createElement('p');
      p.textContent = translations[currentLang]['chatbot-welcome'];
      welcomeMessage.appendChild(p);
      chatbotMessages.appendChild(welcomeMessage);
    }
  });
}


function addMessage(text, isUser) {
  if (!chatbotMessages) return;
  const message = document.createElement('div');
  message.className = `message ${isUser ? 'user-message' : 'bot-message'}`;

  // Use innerHTML to allow for links and other tags
  const p = document.createElement('p');
  p.innerHTML = text || translations[currentLang]['chatbot-fallback'] || 'Error: No response available.';
  message.appendChild(p);

  chatbotMessages.appendChild(message);
  chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
}

function showTypingIndicator() {
  if (!chatbotMessages) return;
  
  const typingMessage = document.createElement('div');
  typingMessage.className = 'message bot-message typing-message';
  typingMessage.innerHTML = `
    <div class="typing-indicator">
      <span></span>
      <span></span>
      <span></span>
    </div>
  `;
  
  chatbotMessages.appendChild(typingMessage);
  chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
  
  return typingMessage;
}

function hideTypingIndicator(typingMessage) {
  if (typingMessage && typingMessage.parentNode) {
    typingMessage.parentNode.removeChild(typingMessage);
  }
}

if (chatbotSend && chatbotInput) {
  chatbotSend.addEventListener('click', () => {
    const inputText = chatbotInput.value.trim();
    if (inputText) {
      addMessage(inputText, true);
      chatbotInput.value = '';
      
      // Show typing indicator
      const typingMessage = showTypingIndicator();
      
      // Get response and hide typing indicator
      const response = getChatbotResponse(inputText);
      setTimeout(() => {
        hideTypingIndicator(typingMessage);
        addMessage(response, false);
      }, 1000 + Math.random() * 1000); // Random delay between 1-2 seconds
    }
  });

  chatbotInput.addEventListener('keypress', (e) => {
    if (e.key === 'Enter') {
      chatbotSend.click();
    }
  });
}
}

// Country Modal - Initialize when DOM is ready
function initializeCountryModal() {
  const countryModal = document.getElementById('countryModal');
  const modalClose = document.getElementById('modalClose');
  const modalCountry = document.getElementById('modalCountry');
  const modalDetails = document.getElementById('modalDetails');

  // Country-specific contact information
  const countryInfo = {
    'Mali': {
      address: 'Zone aéroportuaire- fret - Bamako- Mali',
      phone: '+223 90 92 92 73',
      email: 'sales@gkslogistics.com'
    },
    'Turquie': {
      address: '---',
      phone: '+223 90 92 92 73',
      email: 'sales@gkslogistics.com'
    },
    'France': {
      address: '02 Rue Maryse Bastié, 93120, La Courneuve, France',
      phone: '+33 7 69 42 36 31 / +33 6 05 63 70 35',
      email: 'paris@gkslogistics.com'
    },
    'USA': {
      address: '---',
      phone: '+1 (832) 352-4313',
      email: 'Souleymane.samassekou@gkslogistics.com'
    },
    'Côte d\'Ivoire': {
      address: '---',
      phone: '+225 07 58 42 18 88',
      email: 'salesabidjan@gkslogistics.com'
    },
    'Guinée': {
      address: '---',
      phone: '+224 622 345 678',
      email: 'sales@gkslogistics.com'
    },
    'Burkina Faso': {
      address: '---',
      phone: '+226 50 34 56 78',
      email: 'sales@gkslogistics.com'
    },
    'Niger': {
      address: 'Poudrière, Avenue Damergou, CI 48, Bp: 2900, Niamey- Niger',
      phone: '+227 98 25 72 25 / +227 90 96 60 02 / +227 93 91 35 45',
      email: 'salesniger@gkslogistics.com'
    },
    'Dubai': {
      address: 'FAST CFS Shop#6, Naif Arcade Opp: New California Hotel Deira, Dubai',
      phone: '(+971) 545835717 / (+223) 77-97-73-26',
      email: 'mohamed.keita@gkslogistics.com - sales@gkslogistics.com'
    }
  };

  // Open modal when clicking a country card
  document.querySelectorAll('.presence .card').forEach(card => {
    card.addEventListener('click', () => {
      const country = card.getAttribute('data-country');
      const info = countryInfo[country] || {
        address: 'Information not available',
        phone: 'N/A',
        email: 'sales@gkslogistics.com'
      };

      if (modalCountry && modalDetails && countryModal) {
        modalCountry.textContent = translations[currentLang][`presence-${country.toLowerCase().replace(/\s+/g, '').replace(/[^a-z]/g, '')}-title`] || country;
        modalDetails.innerHTML = `
          <p><strong>${currentLang === 'fr' ? 'Adresse' : 'Address'}:</strong> ${info.address}</p>
          <p><strong>${currentLang === 'fr' ? 'Téléphone' : 'Phone'}:</strong> <a href="tel:${info.phone.replace(/\s+/g, '')}">${info.phone}</a></p>
          <p><strong>Email:</strong> <a href="mailto:${info.email}">${info.email}</a></p>
        `;

        countryModal.classList.add('active');
      }
    });
  });

  // Close modal
  if (modalClose && countryModal) {
    modalClose.addEventListener('click', () => {
      countryModal.classList.remove('active');
    });
  }

  // Close modal when clicking outside
  if (countryModal) {
    countryModal.addEventListener('click', (e) => {
      if (e.target === countryModal) {
        countryModal.classList.remove('active');
      }
    });
  }
}

// Performance optimization: Lazy load images on scroll
function initializeImageLazyLoading() {
  if ('IntersectionObserver' in window) {
    const imageObserver = new IntersectionObserver((entries, observer) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const img = entry.target;
          if (img.dataset.src) {
            img.src = img.dataset.src;
            img.removeAttribute('data-src');
            observer.unobserve(img);
          }
        }
      });
    });

    document.querySelectorAll('img[data-src]').forEach(img => {
      imageObserver.observe(img);
    });
  }
}

// Initialize Modern Loader - Add this BEFORE hidePageLoader()
function initializeModernLoader() {
  // Create floating particles
  const logoContainer = document.querySelector('.logo-container');
  if (!logoContainer) return;
  
  for (let i = 0; i < 20; i++) {
    const particle = document.createElement('div');
    particle.className = 'particle';
    particle.style.left = Math.random() * 100 + '%';
    particle.style.bottom = '0';
    particle.style.setProperty('--tx', (Math.random() - 0.5) * 100 + 'px');
    particle.style.animationDelay = Math.random() * 3 + 's';
    logoContainer.appendChild(particle);
  }

  // Progress counter
  const percentageEl = document.getElementById('progressPercentage');
  const messageEl = document.getElementById('loadingMessage');
  
  if (!percentageEl || !messageEl) return;
  
  const messages = [
    'Preparing your journey...',
    'Connecting continents...',
    'Loading logistics solutions...',
    'Almost there...'
  ];

  let progress = 0;
  let messageIndex = 0;

  const interval = setInterval(() => {
    progress += Math.random() * 15;
    if (progress > 100) progress = 100;
    
    percentageEl.textContent = Math.floor(progress) + '%';
    
    // Change message at milestones
    if (progress > 33 && messageIndex === 0) {
      messageIndex = 1;
      messageEl.style.animation = 'none';
      setTimeout(() => {
        messageEl.textContent = messages[messageIndex];
        messageEl.style.animation = 'fadeIn 0.5s ease-out';
      }, 50);
    } else if (progress > 66 && messageIndex === 1) {
      messageIndex = 2;
      messageEl.style.animation = 'none';
      setTimeout(() => {
        messageEl.textContent = messages[messageIndex];
        messageEl.style.animation = 'fadeIn 0.5s ease-out';
      }, 50);
    } else if (progress > 90 && messageIndex === 2) {
      messageIndex = 3;
      messageEl.style.animation = 'none';
      setTimeout(() => {
        messageEl.textContent = messages[messageIndex];
        messageEl.style.animation = 'fadeIn 0.5s ease-out';
      }, 50);
    }
    
    if (progress >= 100) {
      clearInterval(interval);
      setTimeout(() => {
        hidePageLoader();
      }, 500);
    }
  }, 100);
}

// Call initialization when DOM is ready
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', initializeModernLoader);
} else {
  initializeModernLoader();
}

// Page Loader
function hidePageLoader() {
  const loader = document.getElementById('pageLoader');
  if (loader) {
    loader.classList.add('hidden');
    setTimeout(() => {
      loader.style.display = 'none';
    }, 500);
  }
}

// Scroll Progress Bar
function initializeScrollProgress() {
  const header = document.querySelector('.header');
  if (!header) return;

  let ticking = false;
  
  function updateScrollProgress() {
    const scrollTop = window.pageYOffset;
    const docHeight = document.body.scrollHeight - window.innerHeight;
    const scrollPercent = (scrollTop / docHeight) * 100;
    
    header.style.setProperty('--scroll-progress', `${scrollPercent}%`);
    ticking = false;
  }

  window.addEventListener('scroll', () => {
    if (!ticking) {
      requestAnimationFrame(updateScrollProgress);
      ticking = true;
    }
  });
}

// Active Section Indicator
function initializeActiveSectionIndicator() {
  const navLinks = document.querySelectorAll('.nav a[href^="#"]');
  const sections = document.querySelectorAll('section[id]');

  function updateActiveSection() {
    const scrollPos = window.scrollY + 100;

    sections.forEach(section => {
      const sectionTop = section.offsetTop;
      const sectionHeight = section.offsetHeight;
      const sectionId = section.getAttribute('id');

      if (scrollPos >= sectionTop && scrollPos < sectionTop + sectionHeight) {
        navLinks.forEach(link => {
          link.classList.remove('active');
          if (link.getAttribute('href') === `#${sectionId}`) {
            link.classList.add('active');
          }
        });
      }
    });
  }

  let ticking = false;
  
  function throttledUpdateActiveSection() {
    if (!ticking) {
      requestAnimationFrame(() => {
        updateActiveSection();
        ticking = false;
      });
      ticking = true;
    }
  }

  window.addEventListener('scroll', throttledUpdateActiveSection);
  updateActiveSection(); // Initial call
}

// Hero Indicators
function initializeHeroIndicators() {
  const indicators = document.querySelectorAll('.hero-indicators .indicator');
  const slides = document.querySelectorAll('.hero-slide');

  indicators.forEach((indicator, index) => {
    indicator.addEventListener('click', () => {
      currentHeroSlide = index;
      showHeroSlide(currentHeroSlide);
      updateIndicators();
    });
  });

  function updateIndicators() {
    indicators.forEach((indicator, index) => {
      indicator.classList.toggle('active', index === currentHeroSlide);
    });
  }

  // Update indicators when slide changes
  const originalShowHeroSlide = showHeroSlide;
  showHeroSlide = function(index) {
    originalShowHeroSlide(index);
    updateIndicators();
  };
}

// Scroll Down Indicator
function initializeScrollIndicator() {
  const scrollIndicator = document.querySelector('.scroll-indicator');
  if (scrollIndicator) {
    scrollIndicator.addEventListener('click', () => {
      const servicesSection = document.getElementById('services');
      if (servicesSection) {
        servicesSection.scrollIntoView({ behavior: 'smooth' });
      }
    });
  }
}

// Progress Bar Animation
function initializeProgressBarAnimation() {
  const progressBars = document.querySelectorAll('.progress-bar .progress');
  
  const progressObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const progressBar = entry.target;
        const targetWidth = progressBar.style.width || '0%';
        progressBar.style.setProperty('--target-width', targetWidth);
        progressBar.classList.add('animate');
        progressObserver.unobserve(progressBar);
      }
    });
  }, { threshold: 0.5 });

  progressBars.forEach(bar => {
    progressObserver.observe(bar);
  });
}

// Toast Notification System
function showToast(message, type = 'info', duration = 4000) {
  const container = document.getElementById('toast-container');
  if (!container) return;

  const toast = document.createElement('div');
  toast.className = `toast ${type}`;
  
  const iconMap = {
    success: 'fas fa-check-circle',
    error: 'fas fa-exclamation-circle',
    warning: 'fas fa-exclamation-triangle',
    info: 'fas fa-info-circle'
  };

  toast.innerHTML = `
    <div class="toast-header">
      <div>
        <i class="${iconMap[type]} toast-icon"></i>
        <strong>${type.charAt(0).toUpperCase() + type.slice(1)}</strong>
      </div>
      <button class="toast-close">&times;</button>
    </div>
    <div class="toast-message">${message}</div>
  `;

  container.appendChild(toast);

  // Auto remove
  setTimeout(() => {
    if (toast.parentNode) {
      toast.style.animation = 'slideInFromRight 0.3s ease reverse';
      setTimeout(() => {
        if (toast.parentNode) {
          toast.parentNode.removeChild(toast);
        }
      }, 300);
    }
  }, duration);

  // Manual close
  const closeBtn = toast.querySelector('.toast-close');
  closeBtn.addEventListener('click', () => {
    if (toast.parentNode) {
      toast.style.animation = 'slideInFromRight 0.3s ease reverse';
      setTimeout(() => {
        if (toast.parentNode) {
          toast.parentNode.removeChild(toast);
        }
      }, 300);
    }
  });
}

// Smooth Scroll for Anchor Links
function initializeSmoothScroll() {
  const links = document.querySelectorAll('a[href^="#"]');
  
  links.forEach(link => {
    link.addEventListener('click', (e) => {
      const href = link.getAttribute('href');
      if (href === '#') return;
      
      const target = document.querySelector(href);
      if (target) {
        e.preventDefault();
        const headerHeight = 80;
        const targetPosition = target.offsetTop - headerHeight;
        
        window.scrollTo({
          top: targetPosition,
          behavior: 'smooth'
        });
      }
    });
  });
}

// Mobile Bottom Navigation
function initializeMobileBottomNav() {
  const mobileNavItems = document.querySelectorAll('.mobile-bottom-nav .nav-item');
  const sections = document.querySelectorAll('section[id]');

  function updateMobileActiveSection() {
    const scrollPos = window.scrollY + 100;

    sections.forEach(section => {
      const sectionTop = section.offsetTop;
      const sectionHeight = section.offsetHeight;
      const sectionId = section.getAttribute('id');

      if (scrollPos >= sectionTop && scrollPos < sectionTop + sectionHeight) {
        mobileNavItems.forEach(item => {
          item.classList.remove('active');
          const href = item.getAttribute('href');
          if (href === `#${sectionId}`) {
            item.classList.add('active');
          }
        });
      }
    });
  }

  window.addEventListener('scroll', updateMobileActiveSection);
  updateMobileActiveSection(); // Initial call
}

// Scroll Reveal Animations
function initializeScrollReveal() {
  const revealElements = document.querySelectorAll('.reveal, .reveal-left, .reveal-right');
  
  const revealObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('active');
        revealObserver.unobserve(entry.target);
      }
    });
  }, { threshold: 0.1 });

  revealElements.forEach(element => {
    revealObserver.observe(element);
  });
}

// Initialize all functionality when DOM is ready
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', () => {
    initializeChatbot();
    initializeCountryModal();
    initializeImageLazyLoading();
    initializeScrollProgress();
    initializeActiveSectionIndicator();
    initializeHeroIndicators();
    initializeScrollIndicator();
    initializeProgressBarAnimation();
    initializeSmoothScroll();
    initializeMobileBottomNav();
    initializeScrollReveal();
  });
} else {
  initializeChatbot();
  initializeCountryModal();
  initializeImageLazyLoading();
  initializeScrollProgress();
  initializeActiveSectionIndicator();
  initializeHeroIndicators();
  initializeScrollIndicator();
  initializeProgressBarAnimation();
  initializeSmoothScroll();
  initializeMobileBottomNav();
  initializeScrollReveal();
}

// Hide page loader when window loads - MODIFY THIS
window.addEventListener('load', () => {
  // Remove or comment out: hidePageLoader();
  // The new loader handles hiding automatically when progress reaches 100%
});

// Quote Modal Function for Chatbot
function openQuoteModal() {
    const quoteModal = document.getElementById('quoteModal');
    if (quoteModal) {
        quoteModal.classList.add('active');
    }
}
